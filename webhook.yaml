apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: validating-webhook
  namespace: validation
webhooks:
  - name: warden.validation.svc
    failurePolicy: Fail
    sideEffects: None
    admissionReviewVersions: ["v1","v1beta1"]
    rules:
      - apiGroups: ["apps", ""]
        resources:
          - "deployments"
          - "pods"
        apiVersions:
          - "*"
        operations:
          - CREATE
    clientConfig:
      service:
        name: warden
        namespace: validation
        path: /validate/
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURLVENDQWhHZ0F3SUJBZ0lVZFU5ZHBIb201c2szektpazRNaVpGWkxZMHpVd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0pERWlNQ0FHQTFVRUF3d1pWMkZ5WkdWdUlFTnZiblJ5YjJ4c1pYSWdWMlZpYUc5dmF6QWVGdzB5TVRFeQpNRFF4TnpNME1EUmFGdzB5TWpFeU1EUXhOek0wTURSYU1DUXhJakFnQmdOVkJBTU1HVmRoY21SbGJpQkRiMjUwCmNtOXNiR1Z5SUZkbFltaHZiMnN3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ2oKaElraGE0UVJSaEJwek1rQ0NnbDJxQ2pJS2pOdEM1enVFSDBqbVF3bzdYTHVBR1RPL0toYU1zdEhDdjRZeVg4bwpTZ1JBc2pVVUxNcDlRN0JhYVQreUxQZTRkMjNmdVdEWGlPbGk5SzUwdmc4MktmRjhiVEFkSDZSVVNQT2hhYldBCitsK0lORnc4amVzM1JNQjM5T1U2STdid1J1MjlkVHZqUlY1OXNHQ2RXRVZLZ3l0ckNQVWFOQXVPRnQzTElWVkoKL0RlNjlKYjRWcHdpQ3hPdUhYbkFQdkpYcGczeEJERUVVUEFWajFFUFdhWFJaOFJ5cnlYTElhVVF5dnZpOE92VwpadVZ6SnVvczZYK2hnWUpnUnpZM09zMlhGdHdwSWNpUnRmY1hKcmdQVXVvWXFOekZSNFQ0bHdzYkUyRDBVTXZ1CndkR3FZQllIOEFMN1RGaFBKZGg3QWdNQkFBR2pVekJSTUIwR0ExVWREZ1FXQkJTUUdPWlNYbVA4eS96ekR0eS8KNkx5NEE4TGxkREFmQmdOVkhTTUVHREFXZ0JTUUdPWlNYbVA4eS96ekR0eS82THk0QThMbGREQVBCZ05WSFJNQgpBZjhFQlRBREFRSC9NQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUE3Q1RDM3R3bjdDTW5BcDJlOGo1S21ubWxnClIyeXhXNWxGcnVjUVNISnVGZDVEanpkb2pmWW1ZUFVpSWo2dC9WMStGUUx6TEJibmRSSXp0bko3MG9YdU5YTzQKYmw4QlJsUjBZS1c4dmZ6SXI4N0FPSTRwYi9nL3UvckVGck00aHZ5WjhpMHFiQzR2Y1ZHV2pqNGdFc281WEIzaQo4NWJCOTBNQk5JSmI2NTJ6UEs1NGgzbktQWTJ0bnBjMlAvY0Q4V080WXM2UTNTa1NBY2Naa1R1ZlMzZUZydHpJCktxRkRmZ3Y0VXBmVjQ0dDhMUlBlSmhjclRLbmZLNHdnckFVcVlUV0NvSDU0aENTWjhmU3dUWE96Y0VURVBjVVIKYlBxd0ZqczN4d0RodjRSMlBsN1VHaFdGRUYyVkxzdHNpbERJMDBXb1hrOGVlV0JoR0VicFFmYThabkw1Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K